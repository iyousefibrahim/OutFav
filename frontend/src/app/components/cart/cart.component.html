<app-breadcrumbs title="Cart" [url]="'cart'" padding="20"></app-breadcrumbs>

<section class="my-container bg-white shadow-lg rounded-2xl border border-gray-200 mt-6 p-4 md:p-6">
    <h2 class="text-xl md:text-2xl font-bold text-(--neutral-900) mb-4">Shopping Cart</h2>

    @if (cartItems()) {
        <div class="flex flex-col lg:flex-row gap-4 md:gap-6">
            <div class="flex-1 space-y-3 md:space-y-4">

                @for (product of cartItems().products; track $index) {
                    <div class="p-3 md:p-4 bg-gray-100 rounded-lg flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-4 shadow">
                        <img [src]="product.productImage" [alt]="product.title"
                            class="w-16 md:w-20 h-16 md:h-20 object-cover rounded-lg border" />
                        <div class="flex-1">
                            <h3 class="text-base md:text-lg font-semibold text-(--neutral-900)">{{ product.title }}</h3>
                            <p class="text-sm md:text-base text-(--neutral-900)">Price: {{ product.price }} USD</p>
                            <p class="text-sm md:text-base text-(--neutral-900)">Quantity: {{ product.quantity }}</p>
                        </div>
                        <p class="text-base md:text-lg font-bold text-(--neutral-900)">{{ product.price * product.quantity }} USD</p>
                    </div>
                }
            </div>

            <div class="bg-gray-50 p-4 md:p-6 rounded-lg shadow-lg lg:w-[280px] flex flex-col justify-center items-center">
                <p class="text-lg md:text-xl font-semibold text-(--neutral-900)">
                    Total: <span class="text-(--neutral-700)">{{ cartItems().totalPrice }} USD</span>
                </p>

                <app-button 
                    class="mt-3 md:mt-4 w-full"
                    [title]="'Checkout'"
                    [textColorClass]="'text-white'" 
                    [bgColor]="'bg-(--neutral-900)'"
                    [buttonPadding]="'10px 20px'"
                    [buttonWidth]="'100%'"
                    [routerLink]="'/checkout'"
                    [disabledStatus]="cartItems().totalPrice === 0">
                </app-button>
            </div>
        </div>
    }
</section>